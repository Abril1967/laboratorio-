#include <iostream>
#include <locale>
#include <stdlib.h>
#include <time.h>
#include "funciones.h"

using namespace std;

void inicioPartida(int &maximaPuntuacion, string &jugador_1, string &jugador_2);
void estadisticas(int maximaPuntuacion);
void creditos();
void tirada_de_dados(string nombre);
const int TIPOS_CARTAS = 5, PALOS = 4;
void preparacion_barajas(string baraja_cartas_muestra[TIPOS_CARTAS][PALOS], bool baraja_cartas_disponibles[TIPOS_CARTAS][PALOS]);




/** pvp ----------------------------------------------------------------------------------------------------------------- **/
void inicioPartida(int &maxPuntuacion, string &jugador_1, string &jugador_2){
    
    int ronda = 0;
    bool finPartida = false;
    char confirmar;
    
    while(finPartida == false;){
        
        cout << "\tCLUTCH" << endl;
        cout << "---------------------------------------------------------------------------------------" << endl;
        
        if (ronda == 0){
            do{
                cout << "Antes de comenzar debe registrar sus nombres: " << endl;
                
                // inicia el jugador 1 tirando los dados
                cout << endl;
                cout << "nombre jugador 1: ";
                cin >> jugador_1;
                cout << endl;

                // continua el jugador 2 tirando los dados en su turno
                cout << endl;
                cout << "nombre jugador 2: ";
                cin >> jugador_2;
                cout << endl;
                
                cout << "confirmar nombres" << endl;
                cout << "S - si\nN - no" << endl;
                cin >> confirmar;
                while(confirmar != 'N' && confirmar != 'n' && confirmar != 'S' && confirmar != 's'){
                    cout << "ERROR, INGRESE UNA CONFIRMACION VALIDA" << endl;
                    cin >> confirmar;
                }
                
            } while (confirmar == 'N' || confirmar == 'n');
            
            ronda++;
            
        } else {
            // aca se debe agregar el inicio del juego
            
            
        }
        
        
        
        // hacer una funcion que verifique si el "corral" de cada jugador esta ordenado o no
    }


}



/** estadisticas ----------------------------------------------------------------------------------------------------------------- **/
void estadisticas(int maxPuntuacion) {

    // incompleto
    cout << "eligio estadisticas" << endl;
    cout << "\tmejor puntuacion: " << maxPuntuacion << endl;

    cout << "---------------------------------------------------------------------------------------" << endl;
}



/** creditos ----------------------------------------------------------------------------------------------------------------- **/
void creditos() {
    cout << "eligio creditos" << endl;
    cout << "---------------------------------------------------------------------------------------" << endl;
}



/** tirada de dados ----------------------------------------------------------------------------------------------------------------- **/
void tirada_de_dados(string nombre){
    srand(time(NULL));

    int dado = 1 + rand()%(6);

    cout << "EL JUGADOR " << nombre << " TIRO EL DADO" << endl;
    cout << system("pause");
    cout << system("cls");
    cout << "SACO: " << endl;
    cout << endl;

    switch (dado){
    case 1:
        cout << "\t+-----------+" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|     x     |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t+-----------+" << endl;

        // aca se debe llamar a una funcion, en base al valor obtenido en dado, se lo pasa como parametro
        // y la funcion se encarga de que debe hacer

        cout << system("pause");
        cout << system("cls");
        break;

    case 2:
        cout << "\t+-----------+" << endl;
        cout << "\t|  x        |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|        x  |" << endl;
        cout << "\t+-----------+" << endl;

        // aca se debe llamar a una funcion, en base al valor obtenido en dado, se lo pasa como parametro
        // y la funcion se encarga de que debe hacer

        cout << system("pause");
        cout << system("cls");
        break;

    case 3:
        cout << "\t+-----------+" << endl;
        cout << "\t| x         |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|     x     |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|          x|" << endl;
        cout << "\t+-----------+" << endl;

        // aca se debe llamar a una funcion, en base al valor obtenido en dado, se lo pasa como parametro
        // y la funcion se encarga de que debe hacer

        cout << system("pause");
        cout << system("cls");
        break;

    case 4:
        cout << "\t+-----------+" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t+-----------+" << endl;

        // aca se debe llamar a una funcion, en base al valor obtenido en dado, se lo pasa como parametro
        // y la funcion se encarga de que debe hacer

        cout << system("pause");
        cout << system("cls");
        break;

    case 5:
        cout << "\t+-----------+" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|     x     |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t+-----------+" << endl;

        // aca se debe llamar a una funcion, en base al valor obtenido en dado, se lo pasa como parametro
        // y la funcion se encarga de que debe hacer

        cout << system("pause");
        cout << system("cls");
        break;

    case 6:
        cout << "\t+-----------+" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t|           |" << endl;
        cout << "\t|  x     x  |" << endl;
        cout << "\t+-----------+" << endl;

        // aca se debe llamar a una funcion, en base al valor obtenido en dado, se lo pasa como parametro
        // y la funcion se encarga de que debe hacer

        cout << system("pause");
        cout << system("cls");
        break;

    }

    cout << system("pause");
    cout << system("cls");
}



/** carga de matrices -----------------------------------------------------------------------------------------------------------**/

void preparacion_barajas(string baraja_cartas_muestra[][4], bool baraja_cartas_disponibles[][4]) {
    const int TIPOS = 5;
    const int PALOS = 4;

    const string nombresCartas[] = {"10", "J", "Q", "K", "A"};
    const string nombresPalos[] = {"corazones", "picas", "diamantes", "trebol"};

    for (int x = 0; x < TIPOS; x++) {
        for (int y = 0; y < PALOS; y++) {
            baraja_cartas_muestra[x][y] = nombresCartas[x] + " " + nombresPalos[y];
            baraja_cartas_disponibles[x][y] = true;
        }
    }
}
